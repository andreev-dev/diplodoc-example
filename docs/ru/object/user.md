# Объект "Пользователь"

## 1. Параметры объекта

- **Тип**: `object` (базовая сущность)
- **Код**: `user`
- **Наименование**: Пользователь
- **Поле для отображения экземпляров объекта**: `fullName` (ФИО)

## 2. Поля объекта

### Основные поля

| № | Код поля | Тип данных | Наименование | Обязательное | Индексируемое | Обработка значения поля при сохранении |
|---|----------|------------|----------|:----------------:|:---------------:|---------------------------|
| 1 | `login` | Строка | Логин | Да | Да | Автоматическое удаление пробельного символа в начале и конце значения |
| 2 | `email` | Строка | Email | Да | Да | Автоматическое удаление пробельного символа в начале и конце значения; Приведение к нижнему регистру |
| 3 | `lastName` | Текст | Фамилия | Да |  |  |
| 4 | `firstName` | Текст | Имя | Да |  |  |
| 5 | `middleName` | Текст | Отчество |  |  |  |
| 6 | `position` | Строка | Должность |  |  | Автоматическое удаление пробельного символа в начале и конце значения |
| 7 | `phone` | Группа полей | Телефон |  |  |  |
| 8 | `phone.prefix` | Строка | Код страны |  |  |  |
| 9 | `phone.num` | Строка | Номер |  |  | Автоматическое удаление пробельного символа в начале и конце значения |
| 10 | `phone.ext` | Строка | Добавочный номер |  |  | Автоматическое удаление пробельного символа в начале и конце значения |
| 11 | `roles` | Массив групп полей | Роли пользователя |  |  |  |
| 12 | `roles.id` | Ссылка на объект [Роль](Роль.md) | Роль пользователя |  |  |  |
| 13 | `organizationId` | Ссылка на объект [Организация](Организация.md) | Организация |  | Да |  |
| 14 | `blockReasonId` | Ссылка на объект [Причина блокировки пользователя](Причина_блокировки_пользователя.md) | Причина блокировки |  |  |  |
| 15 | `userSettingsId` | Ссылка на объект [Справочная информация для объекта Пользователь](Справочная_информация_для_объекта_Пользователь.md) | Идентификатор справочной информации пользователя |  |  |  |
| 16 | `timezone` | Группа полей | Временная зона |  |  |  |
| 17 | `timezone.offset` | Строка | Отклонение от UTC | Да |  | Автоматическое удаление пробельного символа в начале и конце значения |
| 18 | `timezone.name` | Строка | Наименование временной зоны | Да |  | Автоматическое удаление пробельного символа в начале и конце значения |
| 19 | `lang` | Строка | Язык по умолчанию |  |  |  |
| 20 | `lastOnline` | Дата и время | Время последней активности пользователя |  |  |  |
| 21 | `receiveNewsletters` | Логическое значение | Получать информационные рассылки |  |  |  |

### Системные поля

| № | Код поля | Тип данных | Наименование | Обязательное | Индексируемое | Обработка значения поля при сохранении |
|---|----------|------------|----------|:----------------:|:---------------:|---------------------------|
| 1 | `_id` | Строка | Уникальный идентификатор экземпляра сущности | Да | Да | Автоматически заполняется системой |
| 2 | `createdAt` | Дата и время | Дата и время создания экземпляра сущности | Да | Да | Автоматически заполняется системой |
| 3 | `updatedAt` | Дата и время | Дата и время последнего изменения экземпляра сущности | Да | Да | Автоматически заполняется системой |
| 4 | `createdBy` | Строка | Идентификатор пользователя, создавшего экземпляр сущности | Да | Да | Автоматически заполняется системой |
| 5 | `updatedBy` | Строка | Идентификатор пользователя, выполнившего последнее изменение | Да | Да | Автоматически заполняется системой |
| 6 | `state` | Строка | Текущий статус экземпляра сущности | Да | Да | Автоматически заполняется системой |

### Вычисляемые поля

| № | Код поля | Тип данных | Наименование | Обязательное | Индексируемое | Обработка значения поля при сохранении |
|---|----------|------------|----------|:----------------:|:---------------:|---------------------------|
| 1 | `fullName` | Строка | ФИО |  |  | Значение вычисляется по формуле: `${object.lastName} ${object.firstName} ${object.middleName ? object.middleName : ''}` |
| 2 | `userName` | Строка | Полное имя |  |  | Значение вычисляется по формуле: `${object.firstName} ${object.middleName ? object.middleName : '' }` |
| 3 | `phoneView` | Строка | Телефон полностью |  |  | Значение вычисляется по формуле: `${object.phone?.prefix} ${object.phone?.num} ${object.phone?.ext ? ('доб. ' + object.phone?.ext) : ''}` |
